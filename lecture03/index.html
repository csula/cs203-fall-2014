<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>CS203: Programming with Data Structure</title>
<link rel="stylesheet" href="../css/style.css">
</head>
<body>

<div id="content">

<h1>CS203: Programming with Data Structure</h1>

<h2>Lecture 3 / Generics</h2>
<p>Reading assignment: chapter 19</p>

<h2>Lesson Objectives</h2>
<ul>
   <li>To describe the benefits of generics </li>
   <li>To use generic classes and interfaces </li>
   <li>To define generic classes and interfaces </li>
   <li>To explain why generic types can improve reliability and readability </li>
   <li>To define and use generic methods and bounded generic types </li>
   <li>To develop a generic sort method to sort an array of Comparable
objects </li>
   <li>To explain why wildcard generic types are necessary </li>
   <li>To describe generic type erasure and list certain restrictions and limitations on generic types caused by type erasure </li>
</ul>

<h3>Generics Overview</h3>

<p>Generics let you parameterize types.  The key benefit of generics is to enable errors to be detected at compile time rather than at runtime. A generic class or method permits you to specify allowable types of objects that the class or method can work with. If you attempt to use an incompatible object, the compiler will detect that error.</p>

<h3>Examples of Generics in Action</h3>

<p><b>Comparable before JDK 1.5 and after JDK 1.5</b></p>
<img src="comparable.png"> <br/>

<p><b>UML Class Diagram of an ArrayList</b></p>
<img src="arraylist.png"> <br/>

<p>To create an array of Strings:</p>
<div class="code"><pre>
ArrayList<String> myList = new ArrayList<String>();
myList.add("cookies");
myList.add("milk");
String second = myList.get(1);
</pre></div>

<p>Note that casting (in the above example) is no longer required.</p>

<div class="code"><pre>
ArrayList<...> myList = new ArrayList<...>()
</pre></div>

<h3>Roll our own Generic Class</h3>

<img src="genericstack.png"> <br/>

<h3>Roll our own Generic Method</h3>

<img src="genericmethod.png"> <br/>

<ul>
  <li>To define a generic type for a class, place it after the class name, such as GenericStack&lt;E&gt;.</li>
   <li> To define a generic type for a method, place the generic type before the method return type, such as &lt;E&gt; void max(E o1, E o2).
</ul>

<div class="code"><pre>
public class ArrayList< K > {
  public static < E > void ArrayList(E e1) { }
}
</pre></div>

<h3>Bounded versus Unbounded Generic Type</h3>

<img src="bounded.png"> <br/>

<p>Unbounded generics imply that the generic type <em>E</em> extends the <em>Object</em>, thus unbounded.  </p>

<div class="code"><pre>
public static <E extends Object> boolean isAlive() { ... }
</pre></div>

<h3> Generics and Wild Card</h3>

<img src="wildcard.png"> <br/>

<p>Below is a slightly more complicated case of <em>super</em> wildcard.</p>

<img src="superwildcard.png"> <br/>

<p>The inheritance relationship involving generic types and wildcard types is summarized  below.  In this figure, A and B represent classes or interfaces, and E is a generic type parameter.</p>

<img src="genericwildcardtypes.png"> <br/>

<h3> Erasure Type</h3>

<p>The compiler uses the generic type information to compile the code, but erases it afterward. Thus, the generic information is not available at runtime. This approach enables the generic code to be backward compatible with the legacy code that uses raw types.</p>

<p>There are limitations with erasure type with regards to generics:</p>

<ol>
  <li>Cannot Use new E()</li>
  <li>Cannot Use new E[]</li>
  <li>A Generic Type Parameter of a Class Is Not Allowed in a Static Context</li> 
  <li>Exception Classes Cannot Be Generic</li>
</ol>

<h2>Lab Exercises</h2>

<p>For each of the following exercises, practice developing and running your program with Eclispe.  Note that the lab assignments are not graded.</p>

<ol>
  <li>Implement a Generic Queue class.</li> 
  <li>Use generics to implement a container that finds the max and min values for the Generic Queue class.</li>
  <li>Implement a method that shuffles the Generic Queue that you've created above.</li>
</ol>

</div>

<div id="footer">
All illustrations are courtesy of Y. Daniel Liang's <em>Introduction to Java Programming, 10e</em>.
</div>

</body>
</html>
